## Syntax

### Kommentare

Kommentare werden in R wie in Bash, Python oder Perl mit einer Raute
eingeleitet.

```{r comments}

# Dies ist ein Kommentar.

##################################################
# Dies ist ein Kommentar
# über mehrere Zeilen.
##################################################

print("Hallo Welt!") # Der Kommentar kann auch dahinter stehen.

```

### Variablen

Variablennamen folgen grundsätzlich den Mustern verbreiteter Sprachen.

* Namen bestehen aus Buchstaben, Ziffern, Unterstrichen oder Punkten.
* Namen starten mit einem Buchstaben oder mit einem Punkt.
* Nach einem anführenden Punkt darf keine Ziffer folgen (falsch: .2x).
* Reservierte Worte dürfen nicht verwendet werden.

Reservierte Worte sind kein Ding. Du erkennst das automatisch an der
Fehlermeldung.

Das überraschende ist der Punkt als gültiger Bestandteil von Variablennamen. In
anderen Sprachen werden damit Elemente eines Objektes angesprochen. Das
geschieht in R mittels des Dollarzeichens.

```{r}
a <- list("alpha" = 1, "beta" = 2) # Variable a befüllt mit einer Liste.
a.punkt <- "Punkt" # Eine ganz andere Variable, die nur aussieht wie a.
print(a) # Die Liste a enthält nicht "Punkt" und wurde auch nicht überschrieben.
print(a.punkt) # "Punkt" wird unabhängig ausgegeben.
print(a$beta) # Mit dem $-Zeichen wird ein Element von a angesprochen.
print(a$punkt) # Dieses gibt es dagegen nicht.
```

Tip: Wenn Du Verwirrungen mit anderen Sprachen minimieren willst, verwendest Du
den Punkt als Worttrenner nicht. Er ist eher eine historische Erblast als ein
Feature. Die besseren Alternativen sind Unterstrich oder CamelCase.

### Zuweisungen

Kurz gesagt, die Zuweisung zu Variablen erfolgt in R mittels des
Zuweisungsoperators `<-`  während die Zuweisung zu Funktionsparametern und zu
Namen in Listen und Data-Frames mit dem Gleichheitszeichen `=` erfolgt.
Ausserdem gibt es die Zuweisung zu Variablen oberhalb des eigenen
Sichtbarkeitsbereiches mittels `<--`. Das wird im entsprechenden Kapitel näher
erklärt.

Dieses Beispiel zeigt die Anwendung von `<-` und `=`.

```{r assignments}
##################################################
# Create a dataframe with calculated planet data.
#
# @param names Characters of names.
# @param radii Numbers of radii.
# @return data.frame
##
setupPlanets <- function(names, radii) {
     data.frame(
          Name = names,
          Radius = radii,
          Diameter = 2 * radii,
          Perimeter = 2 * pi * radii,
          Surface = 4 * pi * radii^2,
          Volume =  4/3 * pi * radii^3
    )
 }

input <- list(
    names = c("Merkur", "Venus", "Erde", "Mars"),
    radii = c(2440, 6052, 6371, 3389)
)
planets <- setupPlanets(input$names, input$radii)
print(planets)
```

Hier definiere ich eine Funktion und weise sie der Variablen `setupPlanets`
mittels des `<-`-Operators zu.  Das speichern ganzer Funktionen in Variablen
charakterisiert eine funktionale Programmiersprache. Eine solche Zuweisung
erfolgt auch bei den Variablen `input` und `planets`, denen ein Liste bzw. ein
Data-Frame zugewiesen wird.  Sowohl beim Data-Frame als auch bei der Liste
werden die einzelnen benannten Elemente mittels `=` zugewiesen.

#### Diskussion der Alternativen

Es ist oft, aber eben nicht immer, technisch möglich Variablen mittels `=`
statt mittels `<-` zuzuweisen. Weil das ein Zeichen weniger zu tippen ist und
den Zuweisungen in vielen anderen Programmiersprachen entspricht, wird Dir das
im Code vieler Leute begegnen. Um einen klaren, einheitlichen Programmierstil
zu pflegen, solltest Du konsequent `<-` für die Zuweisung von Variablen
benutzen.

Die Zuweisung mittels `<--` ist möglich, aber für die Zuweisung an übergeordnete
Sichtbarkeitsbereiche gedacht. Du musst wissen, was du tust. Dazu später.

`->` macht genau dasselbe wie `<-`. Nicht dass Du denkst die Variable käme
dann nach rechts. Es ist also nicht intuitiv verständlich.

Analog ist `-->` dasselbe `<--` und nicht intuitive verständlich.

Also:

* `=` Ist nicht überall einsetzbar und nicht R-stylisch.
* `->` Ist verwirrend.
* `<--` Du solltest wissen was Du tust.
* `-->` Ist verwirrent und Du solltest wissen, was Du tust.

Darum: Variablenzuweisung mittels `<-` bevorzugen.

### Namensräume

Variablen können bereits Funktionen oder Daten enthalten, auch die aus
den Basis-Paketen und die aus den Bibliotheken, die Du lädst.

Du musst also
aufpassen, dass Du keine Namen von Funktionen oder Daten überschreibst,
jedenfalls nicht solche, die Du später noch verwenden willst.

Tust Du es doch, dann kannst du die Variablen der Pakte aber immer noch über
ihren Full Qualified Name ansprechen. Das kann einerseits lohnenswert sein, um
einen sprechenden Variablennamen wie "data" frei einsetzen zu können,
andererseits  kann es auch eingefleischte R-Benutzer verwirren, wenn der
vertraute Name "zweckentfremdet" wird.

```{r}
# Die Funktion print ist im Paket base
base::print("Hallo")
# Das Paket base ist per default geladen.
# Darum kann base::print() verkürzt angesprochen werden.
print("Hallo")
# Die Variable print wird hier mit einer Funktion definiert.
print <- function(...) { "Nope" }
# Was passiert jetzt?
print("Welt")
# Der Fully Qualified Name funktioniert weiterhin.
base::print("Welt")
# Definition aufheben.
remove(print)
# Jetzt wird wieder base::print() angesprochen.
print("Welt")
```

### Blöcke und Einrückungen

### Coding Guidelines


